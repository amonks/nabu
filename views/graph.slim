#graph
script src="http://d3js.org/d3.v3.min.js"
script src="/legend/d3.legend.js"
script src="/graph.js"
javascript:
  var tables = #{{@tables.to_json}};
  for (var i = 0; i <= tables.length - 1; i++) {
    graphIt(tables[i].table, tables[i].columns, tables[i].min, tables[i].max, tables[i].start, tables[i].end);
  }

- content_for :style do
  css:
    html, body {
      margin: 0;
      padding: 0;
      top: 0;
      right: 0;
      left: 0;
      bottom: 0;
    }

    svg {
      vertical-align: middle;
      background: rgba(255,255,255, 0.2);
      box-shadow: inset 0 0 3px 0px #CECECE;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }

    .line {
      fill: none;
      stroke-width: 3px;
    }


    .legend rect {
      fill:white;
      stroke:none;
    }
